<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <div>
        <div>
            <input type="text" id="username">
            <input type="password" id="password">
            <button onclick="login()">entrar</button>
        </div>
        <script>
            function login() {
                var username = document.getElementById("username").value;
                var password = document.getElementById("password").value;


                var data = {
                    username: username,
                    password: password
                };


                fetch('http://localhost:8080/api-public/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                })
                    .then(response => {
                        if (response.ok) {
                            alert("Login bem-sucedido");
                            document.location.href = 'http://localhost:8080/home';
                            return response.json();
                        } else
                            alert("Falha no login");

                    })
                    .catch(error => {

                        alert("Erro na requisição: " + error.message);
                        console.log(error.message);
                    });
            }
           
        </script>
    </div>
</body>

</html>